%!TEX root = dbproposal.tex

\section{Introduction}

The importance of collecting and storing data is universal, with use cases in governmental~\cite{Powers2014}, commercial~\cite{Linoff:2002:MWT:560274,insightdata}, and personal sectors~\cite{Mons2011}.  Tremendous value can be extracted from data.  Data enables better decisions, improved health and economic growth.

This data is stored in database systems.  Databases have a rich history in both academia and the commercial spaces.  However, data volume is growing exponentially.  This growth in size and complexity is outpacing organizations' ability to manage and
organize this data.  Organizations are turning to external cloud providers
to manage their data needs.  

This outsourced storage represents a natural attack target.  Attacks occur against both government~\cite{CyberAttacksOPM} and commercial~\cite{CyberAttacks,gressin2017equifax} datasets.
The natural response to this risk is to encrypt data before outsourcing. 
%
However, employing encryption comes at the cost of disabling the cloud server
from {\em quickly processing the data and answering
complex queries from the client}. 
%
Ideally, we could use more sophisticated cryptography to {\em create databases
capable of efficiently answering a client's queries without revealing
information to the cloud server}.  


Secure outsourced databases use advanced cryptography to achieve this goal.  This field encompasses a variety of cryptographic techniques, including property-preserving encryption or PPE~\cite{EC:PanRou12}, searchable symmetric encryption or SSE~\cite{CCS:CGKO06}, private information retrieval by keyword~\cite{EPRINT:ChoGilNao98}, and public-key encryption with keyword search~\cite{EC:BDOP04}.  

This research has largely split into two research threads: PPE which emphasizes background compatibility and use of legacy database management systems and searchable encryption which emphases security.  PPE creates symmetric encryption techniques
compatible with an unprotected database. Examples include deterministic
encryption~\cite{C:BelBolONe07} which can answer equality queries and order-preserving encryption~\cite{C:BolCheONe11,EC:BCLO09}
which can answer range queries. Academic teams, start-up companies (including Bitglass, Ciphercloud, Crypteron, PreVeil, Skyhigh, ZeroDB) and Fortune
500 companies (including Microsoft's SQL Server 2016 and Azure and Google's Encrypted BigQuery)  offer variants of property-preserving encryption.
%Recent attacks against these schemes indicate even ideal property-preserving
%encryption can't be secure for many applications.
%
SSE schemes can be viewed as starting from secure multi-party computation and
optimizes solutions for common database tasks. This approach requires redesign
of database indexing mechanisms and results in better security at the cost of
decreased efficiency. 

These systems have been implemented at moderate scale.  Both property-preserving solutions~\cite{CACM:PRZB12,EPRINT:PodBoePop16} and searchable encryption~\cite{SP:PKVKMC14,SP:FVKKKM15,C:CJJKRS13,CCS:JJKRS13,NDSS:CJJJKR14,ESORICS:FJKNRS15,RSA:IKLO16} solutions have been tested on datasets with billions of records.

%
%  Folks--we need to be careful here.  DBMS functions are much broader than search; there's transformation and presentation, access control, backup, recovery management, etc., and we're talking about none of that here.


\subsection{Use Cases}
Emerging databases include large scale graph databases, analytic databases, and
biometric databases. 
\begin{enumerate}
\item Many data sets are naturally interpreted as large sparse graphs.  Examples include social networks including online networks such as Facebook and Twitter and more traditional communities such as academic co-authorship and the co-stardom network.  This type of network is used to perform Internet scale analysis.  Common graph algorithms include computing triangles (sets of nodes $\{a,b,c\}$ where all pairs are close according to a metric), shortest path algorithms, network diameter, and degree distribution.
\item  Increasingly, databases are not asked to return subsets of data but rather derive statistics and analytics about the stored data.  Machine-learning-as-a-service has emerged as a business model for large and small companies~\cite{mlservice}.  Many machine learning algorithms depend on computing distance between points. Linear regression finds the line that minimizes the sum of distances between the line and data points.  Similarly, the first principal component minimizes the sum of distances between the selected line and the dataset~\cite{wold1987principal}.  The remaining principal components are defined similarly subject to being orthogonal to previously defined principal components.
\item The FBI has long held a fingerprint database with hundreds of millions of records~\cite{brislawn1996fbi} for identifying criminals.  Increasingly, countries are using biometrics as an identifier for citizens, linking biometrics with unique identifiers.  The Aadhaar system in India links biometrics with a unique 12 digit number with over 1 billion numbers issued~\cite{daugman2014600}.  Increasingly, passports are biometric enabled~\cite{stanton2008icao}.  As these databases move from indexing criminals to everyone, privacy concerns abound.  The fundamental operation is these databases is comparing the distance between a target point $a$ all stored points. Biometric databases return the nearest match $b^*$ if the distance $d(a,b^*)$ is less than some defined threshold.  
\end{enumerate}

\noindent
These databases share a fundamental operation: {\em
computing distance/proximity of tuples of points}. 

\subsection{Inadequacy of Prior Work}

In 2000, Song, Wagner, and Perrig provided the first scheme with communication proportional to the description of the query and the server performing (roughly) a linear scan of the encrypted database~\cite{SP:SonWagPer00}.  Since that time there has been tremendous work and both PPE and SSE approaches can handle much of SQL and NoSQL queries for billions of records.  However, neither approach is capable of handling inherently geometric data that is prominent in many current applications. (There is some work on computing shortest path in networks~\cite{CCS:MKNK15})  Furthermore, each approach also has a second weakness:
\begin{enumerate}
\item PPE has been subject to a number of leakage-abuse attacks that show that order-preserving encryption (and sometimes deterministic encryption) cannot be safely used in most cases~\cite{CCS:NavKamWri15,CCS:CGPR15,CCS:KKNO16,CCS:PouWri16,CCS:GMNRS16,EPRINT:GSBNR16,EPRINT:ZhaKatPap16}.
\item SSE offers more limited functionality and efficiency than PPE based solutions.  The fastest SSE based solutions report overhead of roughly 300\%~\cite{C:CJJKRS13,CCS:JJKRS13,NDSS:CJJJKR14,ESORICS:FJKNRS15} while PPE based solutions report overhead of around 30\%~\cite{CACM:PRZB12}.  We are only aware of a single SSE solution that can handle JOIN statements~\cite{EPRINT:KamMoa16}.  As of this writing, the information  leaked by this scheme is not clear.  Recall that these solutions usually replace the entire database software stack with a custom cryptographic approach.  We posit that the lack of backward compatibility and difficulty of managing these systems also hurts industry adoption.  Industry adoption has been dominated by PPE solutions.
\end{enumerate}

The quick emergence of PPE systems in industry indicates that the approach has multiple benefits beyond efficiency.  It is imperative to ask if it is possible to design an approach which retains the benefits of PPE including backward compatibility, use of legacy software, improved visibility of data processing.  

The proposed research will
consider proximity queries as a case study to understand the following question.  \begin{quote}\emph{Is it possible to securely outsource modern databases while using traditional database software stack?  What is the minimum amount that an unprotected database must be modified for security?}\end{quote}


\paragraph{Out of scope} We do not address approaches based on fully-homomorphic encryption~\cite{STOC:Gentry09} or functional encryption~\cite{FOCS:GGHRSW13}.  These solutions are too slow to be used for the scale of current data sets.  In addition, we do not consider improvements to private information retrieval~\cite{FOCS:CGKS95} or oblivious RAM~\cite{STOC:Goldreich87,goldreich1996software} to be in scope for this proposal.  Our proposed work will make use of these objects but will not try to improve the efficiency of these building blocks.  In addition, the PIs are aware (and have contributed) of the leakage inference attacks on secure databases (for example~\cite{CCS:KKNO16}).  These attacks will inform the approach in this proposal but developing new attacks is not a component in the proposed research.  This choice is being made to keep scope feasible.

Lastly, Intel SGX is a promising hardware approach that is being used to isolate programs and provide security~\cite{EPRINT:CosDev16}.  SGX can be used to simulate cryptographic primitives~\cite{EPRINT:SasGorFle17,EPRINT:FVBG16}.  We believe that SGX can be used to upgrade the security of secure databases from honest-but-curious to malicious.  However, we leave combining our techniques with hardware approaches to future work.


\subsection{Proposed work.}
The goal of this proposal is to create secure outsourced databases that will be adopted and used by industry.  Towards achieving this goal we recognize two lessons from the past 1) PPE must be carefully analyzed to understanding security and 2) there are tremendous benefits of keeping backwards compatibility with prior database systems.  Together, these lessons tell us that some modification of database systems may be necessary but these modifications should be judicious.  This will be our guiding principle thorough this work.  The end point for our work is a  third approach to achieving secure outsourced databases: 
\begin{quote}Cryptographic operations are restricted to only database operators (used to create index structures).  These cryptographic operators can call interactive protocols but should not require a complete rewrite of the underlying database.. 
\end{quote}

\noindent
The proposed research will
consider proximity queries as a case study and give constructions supporting
these queries.  This work will be split into three components:
\begin{description}
\item[Section \ref{sec:ppe}] To show the promise of this approach, we will first consider whether property-preserving encryption can be used to compute distance.  We expect that the strength of the ideal object will greatly depend on the definition of security including whether 1) should distance be precisely preserved? 2) is distance-revealing encryption sufficient? and 3) what is the distance metric? This component will consist of the following tasks:
\begin{enumerate}
\item Analysis of security provided by distance-preserving encryption for common metrics
\item Design of distance-revealing encryption
\item Design of approximate distance-revealing encryption and equivalence with distance-comparison revealing encryption.
\end{enumerate}

\item[Section \ref{sec:interactive}] When the definition of distance-revealing encryption appears inadequate for an application, we will change the model to allow overloaded operators to use interaction.  We will show what functionality can be built using ``interactive operators'' (drawing on recent work of the co-PIs~\cite{SP:PKVKMC14,CCS:RACY16}).  This component will consist of the following tasks:
\begin{enumerate}
\item Proximity using Partial Distance-Preserving Encryption
\item Substring Search using Partial Suffix Tree Encryption
\item Improved efficiency of MPC approaches in 2 party setting
\item Improved dynamism for interactive approaches
\end{enumerate}

\item[Section \ref{sec:improving security}] Lastly, we will strengthen security of this approach while working towards a goal of maximum backwards compatibility.  This component includes considering forward security and eliminating leakage from protocols. This component will consist of the following tasks:
\begin{enumerate}
\item Modular partial order-preserving encryption
\item Forward security for POPE
\item Merge of Ostrovsky and POPE
\end{enumerate}
\end{description}
The most promising of these approaches will be implemented.  Furthermore, for promising approaches we will engage with industry to understand common query loads and data sets to evaluate performance of the schemes.

\paragraph{Intellectual merits.}  
Encrypted databases and searchable encryption has a rich history rooted in the
design of oblivious random access machines.  The current landscape is littered
with approaches with uncertain security or inadequate functionality.  Recent
leakage inference attacks have taught us the impact of leakage and forward
security.  At the same time, the rapid deployment of property-preserving
techniques has reinforced the importance of simplicity, efficiency and backward
compatibility.  These two developments inform the core of our approach: using
interactivity to strengthen property-preserving encryption.

\paragraph{Broader impacts.}
The confidentiality of data is a core societal tenant.  Deployed encrypted
databases provide little security and may even hurt by providing a false sense
of security.  There is a tremendous need for research in this area to
understand the tradeoffs between security, functionality, and efficiency.

The PIs are committed to broad dissemination of research material.  The PIs
have participated in large scale evaluation of searchable encryption, working
on both constructions and attacks.  Furthermore, the PIs have open-sourced
previous work including work on searchable encryption.  Lastly, all PIs are
dedicated to engaging with undergraduates, with two co-PIs being at an
undergraduate only institution, the US Naval Academy.  



