%!TEX root = dbproposal.tex

\section{Introduction}

The importance of collecting and storing data is universal, with use cases in governmental~\cite{Powers2014}, commercial~\cite{Linoff:2002:MWT:560274,insightdata}, and personal sectors~\cite{Mons2011}.  Tremendous value can be extracted from data, enabling better decisions, improved health and economic growth.

This data is stored in database systems which have a rich history in both academia and the commercial spaces.  The volume of this data is growing exponentially and is outpacing organizations' ability to manage and
organize this data.  Organizations are turning to external cloud providers
to manage their data needs.  
%
Nation-state actors target other governments' systems, corporate repositories, and individual data for espionage and competitive advantages~\cite{apt1}.   Attacks occur against both government~\cite{CyberAttacksOPM} and commercial~\cite{CyberAttacks,gressin2017equifax} datasets.

The natural response to this risk is to encrypted data before outsourcing. 
%
However, employing encryption comes at the cost of disabling the cloud server
from {\em quickly processing the data in the plaintext form and answering
complex queries from the client}. 
%
Ideally, we could use more sophisticated cryptography to {\em create databases
capable of efficiently answering a client's queries without revealing
information to the cloud server}.  


Secure outsourced database search use advanced cryptography to achieve this goal.  This field encompasses a variety of cryptographic techniques, including property-preserving encryption or PPE~\cite{EC:PanRou12}, searchable symmetric encryption or SSE~\cite{CCS:CGKO06}, private information retrieval by keyword~\cite{EPRINT:ChoGilNao98}.  

This research has largely split into two research threads: PPE which emphasizes background compatibility and use of legacy database management systems and searchable encryption which emphases security.  PPE creates symmetric encryption techniques
compatible with an unprotected database. Examples include deterministic
encryption~\cite{C:BelBolONe07} which can answer equality queries and order-preserving encryption~\cite{C:BolCheONe11,EC:BCLO09}
which can answer range queries. Academic teams, start-up companies (including Bitglass, Ciphercloud, Crypteron, PreVeil, Skyhigh, ZeroDB) and Fortune
500 companies (including Microsoft's SQL Server 2016 and Azure and Google's Encrypted BigQuery)  offer variants of property-preserving encryption.
%Recent attacks against these schemes indicate even ideal property-preserving
%encryption can't be secure for many applications.
%
SSE schemes can be viewed as starting from secure multi-party computation and
optimizes solutions for common database tasks. This approach requires redesign
of database indexing mechanisms and results in better security at the cost of
decreased efficiency. 

These systems have been implemented at moderate scale.  Both property-preserving solutions~\cite{EPRINT:PodBoePop16,CACM:PRZB12} and searchable encryption~\cite{SP:PKVKMC14,SP:FVKKKM15,C:CJJKRS13,CCS:JJKRS13,NDSS:CJJJKR14,ESORICS:FJKNRS15,RSA:IKLO16} solutions have been tested on datasets with billions of records.

%
%  Folks--we need to be careful here.  DBMS functions are much broader than search; there's transformation and presentation, access control, backup, recovery management, etc., and we're talking about none of that here.


\subsection{Use Cases}
Emerging databases include large scale graph databases, analytic databases, and
biometric databases. 
\begin{enumerate}
\item Many data sets are naturally interpreted as large but sparse graphs.  Examples include social networks including online networks such as Facebook and Twitter and more traditional communities such as academic co-authorship and the co-stardom network.  In addition, this type of network is crucial for doing large scale analysis of Internet properties that rely on connections between nodes.  Example algorithms for these graphs involve computing triangles (sets of nodes $\{a,b,c\}$ where all pairs are close according to a metric), shortest path algorithms, network diameter, and degree distribution.
\item  Increasingly, databases are not asked to return subsets of data but rather derive statistics and analytics about the stored data.  Machine learning as a service has emerged as a business model for large and small companies~\cite{mlservice}.  Many machine learning algorithms depend on computing distance between points. Linear regression finds the line that minimizes the sum of distances between the line and each data point.  Similarly, the first principal component minimizes the sum of distances between the selected line and the dataset~\cite{wold1987principal}.  The remaining principal components are defined similarly subject to being orthogonal to previously defined principal components.
\item Biometric databases have long been used for identification of criminals, the FBI has long held a fingerprint database with hundreds of millions of records~\cite{brislawn1996fbi}.  Increasingly, countries are using biometrics as an identifier for citizens, linking biometrics with unique identifiers.  For example, the Aadhaar system in India links biometrics with a unique 12 digit number with over 1 billion numbers issued~\cite{daugman2014600}.  Increasingly, passports are biometric enabled~\cite{stanton2008icao}.The fundamental operation is these databases is comparing the distance between a target point $a$ all stored points. Biometric databases return the nearest match $b^*$ if the distance $d(a,b^*)$ is less than some defined threshold.  
\end{enumerate}

These databases share a fundamental operation: {\em
computing distance/proximity of tuples of points}. The proposed research will
consider proximity queries as a case study and give constructions supporting
these queries. 


\subsection{Inadequacy of Prior Work}

In 2000, Song, Wagner, and Perrig provided the first scheme with communication proportional to the description of the query and the server performing (roughly) a linear scan of the encrypted database~\cite{SP:SonWagPer00}.  Since that time there has been tremendous work and both PPE and SSE approaches can handle much of SQL and NoSQL queries for billions of records.  However, neither approach is capable of handling inherently geometric data that is prominent in many current applications. (There is some work on computing shortest path in networks~\cite{CCS:MKNK15})  Furthermore, each approach also has a second weakness:
\begin{enumerate}
\item PPE has been subject to a number of leakage-abuse attacks that show that order-preserving encryption (and sometimes deterministic encryption) cannot be safely used in most cases~\cite{CCS:NavKamWri15,CCS:CGPR15,CCS:KKNO16,CCS:PouWri16,CCS:GMNRS16,EPRINT:GSBNR16,EPRINT:ZhaKatPap16}.
\item SSE offers more limited functionality and efficiency than PPE based solutions.  The fastest SSE based solutions report overhead of roughly 300\%~\cite{C:CJJKRS13,CCS:JJKRS13,NDSS:CJJJKR14,ESORICS:FJKNRS15} while PPE based solutions report overhead of around 30\%~\cite{CACM:PRZB12}.  We are only aware of a single SSE solution that can handle JOIN statements~\cite{EPRINT:KamMoa16}.  As of this writing, the information  leaked by this scheme is not clear.  Recall that these solutions usually replace the entire database software stack with a custom cryptographic approach.  We posit that the lack of backward compatibility and difficulty of managing these systems also hurts industry adoption.  Industry adoption has been dominated by PPE solutions.
\end{enumerate}

It seems unlikely the academic community can prevent the deployment of PPE systems.  It is imperative to ask if it is possible to design an approach which retains the benefits of PPE including backward compatibility, use of legacy software, improved visibility of data processing.  The core of our approach is to only overload operators (for comparison, equality, proximity) using interactive protocols but allow databases systems to operate ``unencrypted'' otherwise.  
We do not address approaches based on fully-homomorphic encryption or functional encryption.  These solutions are too slow to be used for the scale of current data sets.


\subsection{Proposed work.}
Our goal is to create a third approach to achieving secure outsourced databases: restricting cryptographic operations to database operators (used to create index structures) but allowing these operators to call interactive protocols. The proposed research will
consider proximity queries as a case study and give constructions supporting
these queries. 

To show the promise of this approach, we will first show that for many metric
spaces, we first show the ideal object for distance-preserving encryption is rather weak encouraging investigation of distance-revealing and approximate distance revealing encryption.  We will then show that interactivity can greatly increase the security of this construction, similar to a recent interactive version of order-preserving encryption~\cite{CCS:RACY16}. The resulting constructions will have
better security than the property-preserving encryption schemes and better
efficiency than MPC-based schemes. In particular, the proposed approach will
use standard database indexing mechanisms but (interactively) involve the
client to help with sensitive operations. 
In summary, the main proposed contributions are:
\begin{itemize}
\item Constructions of PPE designed for proximity queries
\begin{enumerate}
\item Analysis of security provided by distance-preserving encryption for common metrics
\item Design of distance-revealing encryption
\item Design of approximate distance-revealing encryption and equivalence with distance-comparison revealing encryption.
\end{enumerate}
\item Use of interactivity to achieve added functionality:
\begin{enumerate}
\item Proximity using Partial Distance-Preserving Encryption
\item Substring Search using Partial Suffix Tree Encryption
\item Improved efficiency of MPC approaches in 2 party setting
\item Improved dynamism for interactive approaches
\end{enumerate}
\item Use of interactivity to achieve improved security:
\begin{enumerate}
\item Modular partial order-preserving encryption
\item Forward security for POPE
\item Merge of Ostrovsky and POPE
\end{enumerate}
\end{itemize}


\paragraph{Intellectual merits.}  
Encrypted databases and searchable encryption has a rich history rooted in the
design of oblivious random access machines.  The current landscape is littered
with approaches with uncertain security or inadequate functionality.  Recent
leakage inference attacks have taught us the impact of leakage and forward
security.  At the same time, the rapid deployment of property-preserving
techniques has reinforced the importance of simplicity, efficiency and backward
compatibility.  These two developments inform the core of our approach: using
interactivity to strengthen property-preserving encryption.

\paragraph{Broader impacts.}
The confidentiality of data is a core societal tenant.  Deployed encrypted
databases provide little security and may even hurt by providing a false sense
of security.  There is a tremendous need for research in this area to
understand the tradeoffs between security, functionality, and efficiency.

The PIs are committed to broad dissemination of research material.  The PIs
have participated in large scale evaluation of searchable encryption, working
on both constructions and attacks.  Furthermore, the PIs have open-sourced
previous work including work on searchable encryption.  Lastly, all PIs are
dedicated to engaging with undergraduates, with two co-PIs being at an
undergraduate only institution, the US Naval Academy.  



